"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),_get=function t(n,e,r){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,e);if(void 0===i){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,r)}if("value"in i)return i.value;var u=i.get;if(void 0!==u)return u.call(r)},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function n(n,e){var r=t(n);return function(t,i){return e(r(t),i,n)}}function e(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function r(t){return function(n,e){return sn(t(n),e)}}function i(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=yn?i*=10:o>=vn?i*=5:o>=bn&&(i*=2),n<t?-i:i}function o(){}function u(t,n){var e=new o;if(t instanceof o)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,u=t.length;if(null==n)for(;++i<u;)e.set(i,t[i]);else for(;++i<u;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function a(){}function c(t,n){var e=new a;if(t instanceof a)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function l(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==xn)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=u(),r=[],i=xn;return t=null==t?[]:Tn.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=u();for(var i,o,a=-1,c=t.length;++a<c;)e.has(o=(i=t[a])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=Tn.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return l().domain(r).range(t).unknown(i)},n}function s(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function f(){}function h(t){var n;return t=(t+"").trim().toLowerCase(),(n=Sn.exec(t))?(n=parseInt(n[1],16),new v(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=Un.exec(t))?d(parseInt(n[1],16)):(n=Hn.exec(t))?new v(n[1],n[2],n[3],1):(n=An.exec(t))?new v(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=On.exec(t))?g(n[1],n[2],n[3],n[4]):(n=Ln.exec(t))?g(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=jn.exec(t))?b(n[1],n[2]/100,n[3]/100,1):(n=En.exec(t))?b(n[1],n[2]/100,n[3]/100,n[4]):Fn.hasOwnProperty(t)?d(Fn[t]):"transparent"===t?new v(NaN,NaN,NaN,0):null}function d(t){return new v(t>>16&255,t>>8&255,255&t,1)}function g(t,n,e,r){return r<=0&&(t=n=e=NaN),new v(t,n,e,r)}function p(t){return t instanceof f||(t=h(t)),t?(t=t.rgb(),new v(t.r,t.g,t.b,t.opacity)):new v}function y(t,n,e,r){return 1===arguments.length?p(t):new v(t,n,e,null==r?1:r)}function v(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function b(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new M(t,n,e,r)}function m(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof f||(t=h(t)),!t)return new M;if(t instanceof M)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new M(u,a,c,t.opacity)}function w(t,n,e,r){return 1===arguments.length?m(t):new M(t,n,e,null==r?1:r)}function M(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function C(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function T(t){if(t instanceof _)return new _(t.l,t.a,t.b,t.opacity);if(t instanceof O){var n=t.h*Yn;return new _(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof v||(t=p(t));var e=S(t.r),r=S(t.g),i=S(t.b),o=k((.4124564*e+.3575761*r+.1804375*i)/Pn),u=k((.2126729*e+.7151522*r+.072175*i)/Rn);return new _(116*u-16,500*(o-u),200*(u-k((.0193339*e+.119192*r+.9503041*i)/$n)),t.opacity)}function x(t,n,e,r){return 1===arguments.length?T(t):new _(t,n,e,null==r?1:r)}function _(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function k(t){return t>Zn?Math.pow(t,1/3):t/Vn+qn}function N(t){return t>zn?t*t*t:Vn*(t-qn)}function D(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function S(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function U(t){if(t instanceof O)return new O(t.h,t.c,t.l,t.opacity);t instanceof _||(t=T(t));var n=Math.atan2(t.b,t.a)*In;return new O(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function A(t,n,e,r){return 1===arguments.length?U(t):new O(t,n,e,null==r?1:r)}function O(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function L(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);t instanceof v||(t=p(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(te*r+Kn*n-Qn*e)/(te+Kn-Qn),o=r-i,u=(Jn*(e-i)-Wn*o)/Gn,a=Math.sqrt(u*u+o*o)/(Jn*i*(1-i)),c=a?Math.atan2(u,o)*In-120:NaN;return new E(c<0?c+360:c,a,i,t.opacity)}function j(t,n,e,r){return 1===arguments.length?L(t):new E(t,n,e,null==r?1:r)}function E(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function F(t,n){return function(e){return t+e*n}}function Y(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function I(t,n){var e=n-t;return e?F(t,e>180||e<-180?e-360*Math.round(e/360):e):ne(isNaN(t)?n:t)}function P(t){return 1==(t=+t)?R:function(n,e){return e-n?Y(n,e,t):ne(isNaN(n)?e:n)}}function R(t,n){var e=n-t;return e?F(t,e):ne(isNaN(t)?n:t)}function $(t){return function(){return t}}function q(t){return function(n){return t(n)+""}}function z(t){return function n(e){function r(n,r){var i=t((n=j(n)).h,(r=j(r)).h),o=R(n.s,r.s),u=R(n.l,r.l),a=R(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function V(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ge(n)}function Z(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}function X(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}function B(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function W(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=dn(t,n,1,i)-1;return u[e](o[e](n))}}function G(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function J(t,n){function e(){return i=Math.min(a.length,c.length)>2?W:B,o=u=null,r}function r(n){return(o||(o=i(a,c,s?Z(t):t,l)))(+n)}var i,o,u,a=ye,c=ye,l=se,s=!1;return r.invert=function(t){return(u||(u=i(c,a,V,s?X(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=Cn.call(t,pe),e()):a.slice()},r.range=function(t){return arguments.length?(c=Tn.call(t),e()):c.slice()},r.rangeRound=function(t){return c=Tn.call(t),l=fe,e()},r.clamp=function(t){return arguments.length?(s=!!t,e()):s},r.interpolate=function(t){return arguments.length?(l=t,e()):l},e()}function K(t){return new Q(t)}function Q(t){if(!(n=_e.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],l=n[8]&&+n[8].slice(1),s=n[9]||"";"n"===s?(c=!0,s="g"):xe[s]||(s=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=l,this.type=s}function tt(t){var n=t.domain;return t.ticks=function(t){var e=n();return mn(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return je(n(),t,e)},t.nice=function(e){var r=n(),o=r.length-1,u=null==e?10:e,a=r[0],c=r[o],l=i(a,c,u);return l&&(l=i(Math.floor(a/l)*l,Math.ceil(c/l)*l,u),r[0]=Math.floor(a/l)*l,r[o]=Math.ceil(c/l)*l,n(r)),t},t}function nt(){var t=J(V,oe);return t.copy=function(){return G(t,nt())},tt(t)}function et(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function rt(){function t(t,n){return(n=et(n,e)-(t=et(t,e)))?function(r){return(et(r,e)-t)/n}:ge(n)}function n(t,n){return n=et(n,e)-(t=et(t,e)),function(r){return et(t+n*r,1/e)}}var e=1,r=J(t,n),i=r.domain;return r.exponent=function(t){return arguments.length?(e=+t,i(i())):e},r.copy=function(){return G(r,rt().exponent(e))},tt(r)}function it(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(new Date(+e))}while(n(e,o),t(e),e<r);return u},i.filter=function(e){return it(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Ee.setTime(+n),Fe.setTime(+r),t(Ee),t(Fe),Math.floor(e(Ee,Fe))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function ot(t){return it(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ie)/Pe})}function ut(t){return it(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Pe})}function at(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ct(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lt(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function st(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++a<l;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=tr[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i=lt(1900);if(r(i,t,e+="",0)!=e.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?ct(lt(i.y)).getUTCDay():n(lt(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ct(i)):n(i)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=$[i in tr?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function i(t,n,e){var r=U.exec(n.slice(e));return r?(t.p=H[r[0].toLowerCase()],e+r[0].length):-1}function o(t,n,e){var r=L.exec(n.slice(e));return r?(t.w=j[r[0].toLowerCase()],e+r[0].length):-1}function u(t,n,e){var r=A.exec(n.slice(e));return r?(t.w=O[r[0].toLowerCase()],e+r[0].length):-1}function a(t,n,e){var r=Y.exec(n.slice(e));return r?(t.m=I[r[0].toLowerCase()],e+r[0].length):-1}function c(t,n,e){var r=E.exec(n.slice(e));return r?(t.m=F[r[0].toLowerCase()],e+r[0].length):-1}function l(t,n,e){return r(t,C,n,e)}function s(t,n,e){return r(t,T,n,e)}function f(t,n,e){return r(t,x,n,e)}function h(t){return N[t.getDay()]}function d(t){return k[t.getDay()]}function g(t){return S[t.getMonth()]}function p(t){return D[t.getMonth()]}function y(t){return _[+(t.getHours()>=12)]}function v(t){return N[t.getUTCDay()]}function b(t){return k[t.getUTCDay()]}function m(t){return S[t.getUTCMonth()]}function w(t){return D[t.getUTCMonth()]}function M(t){return _[+(t.getUTCHours()>=12)]}var C=t.dateTime,T=t.date,x=t.time,_=t.periods,k=t.days,N=t.shortDays,D=t.months,S=t.shortMonths,U=dt(_),H=gt(_),A=dt(k),O=gt(k),L=dt(N),j=gt(N),E=dt(D),F=gt(D),Y=dt(S),I=gt(S),P={a:h,A:d,b:g,B:p,c:null,d:St,e:St,H:Ut,I:Ht,j:At,L:Ot,m:Lt,M:jt,p:y,S:Et,U:Ft,w:Yt,W:It,x:null,X:null,y:Pt,Y:Rt,Z:$t,"%":rn},R={a:v,A:b,b:m,B:w,c:null,d:qt,e:qt,H:zt,I:Vt,j:Zt,L:Xt,m:Bt,M:Wt,p:M,S:Gt,U:Jt,w:Kt,W:Qt,x:null,X:null,y:tn,Y:nn,Z:en,"%":rn},$={a:o,A:u,b:a,B:c,c:l,d:Ct,e:Ct,H:xt,I:xt,j:Tt,L:Nt,m:Mt,M:_t,p:i,S:kt,U:yt,w:pt,W:vt,x:s,X:f,y:mt,Y:bt,Z:wt,"%":Dt};return P.x=n(T,P),P.X=n(x,P),P.c=n(C,P),R.x=n(T,R),R.X=n(x,R),R.c=n(C,R),{format:function(t){var e=n(t+="",P);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",at);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",R);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,ct);return n.toString=function(){return t},n}}}function ft(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function ht(t){return t.replace(rr,"\\$&")}function dt(t){return new RegExp("^(?:"+t.map(ht).join("|")+")","i")}function gt(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function pt(t,n,e){var r=nr.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function yt(t,n,e){var r=nr.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function vt(t,n,e){var r=nr.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function bt(t,n,e){var r=nr.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function mt(t,n,e){var r=nr.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function wt(t,n,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Mt(t,n,e){var r=nr.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ct(t,n,e){var r=nr.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Tt(t,n,e){var r=nr.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function xt(t,n,e){var r=nr.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function _t(t,n,e){var r=nr.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function kt(t,n,e){var r=nr.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Nt(t,n,e){var r=nr.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Dt(t,n,e){var r=er.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function St(t,n){return ft(t.getDate(),n,2)}function Ut(t,n){return ft(t.getHours(),n,2)}function Ht(t,n){return ft(t.getHours()%12||12,n,2)}function At(t,n){return ft(1+Re.count(ze(t),t),n,3)}function Ot(t,n){return ft(t.getMilliseconds(),n,3)}function Lt(t,n){return ft(t.getMonth()+1,n,2)}function jt(t,n){return ft(t.getMinutes(),n,2)}function Et(t,n){return ft(t.getSeconds(),n,2)}function Ft(t,n){return ft($e.count(ze(t),t),n,2)}function Yt(t){return t.getDay()}function It(t,n){return ft(qe.count(ze(t),t),n,2)}function Pt(t,n){return ft(t.getFullYear()%100,n,2)}function Rt(t,n){return ft(t.getFullYear()%1e4,n,4)}function $t(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ft(n/60|0,"0",2)+ft(n%60,"0",2)}function qt(t,n){return ft(t.getUTCDate(),n,2)}function zt(t,n){return ft(t.getUTCHours(),n,2)}function Vt(t,n){return ft(t.getUTCHours()%12||12,n,2)}function Zt(t,n){return ft(1+Ve.count(Be(t),t),n,3)}function Xt(t,n){return ft(t.getUTCMilliseconds(),n,3)}function Bt(t,n){return ft(t.getUTCMonth()+1,n,2)}function Wt(t,n){return ft(t.getUTCMinutes(),n,2)}function Gt(t,n){return ft(t.getUTCSeconds(),n,2)}function Jt(t,n){return ft(Ze.count(Be(t),t),n,2)}function Kt(t){return t.getUTCDay()}function Qt(t,n){return ft(Xe.count(Be(t),t),n,2)}function tn(t,n){return ft(t.getUTCFullYear()%100,n,2)}function nn(t,n){return ft(t.getUTCFullYear()%1e4,n,4)}function en(){return"+0000"}function rn(){return"%"}function on(t){return t.toISOString()}function un(t){var n=new Date(t);return isNaN(n)?null:n}function an(t){return function(n,e){return or(t(n),e)}}function cn(t){function n(n){var e=t.findIndex(function(t){return t.Cod_setor===n});if(e!==-1){for(var r=0,i=void 0,o=2;o<7;o++)t[e]["V00"+o]>r&&(r=t[e]["V00"+o],i="V00"+o);return a(i)}return null}function e(n,e){var r=t.findIndex(function(t){return t.Cod_setor===e});if(r!==-1){var i=v.getValue(),o=Number.parseInt(t[r][i]);return Number.isNaN(o)?null:n(o)}return null}function r(t){f=new H.datalens.SpatialLayer(null,wr,{opacity:.8,pixelRatio:window.devicePixelRatio,featureToSpatialId:function(t){return t.properties.CD_GEOCODI},rowToStyle:function(n){return{fillColor:t(n.CD_GEOCODI)}},defaultStyle:function(){return{fillColor:"gray"}}}),br.addLayer(f)}function i(){var n=br.getLayers(),i=v.getValue();if("all"===i)n.indexOf(s)===-1&&(br.removeLayer(f),h.removeChild(y),h.addChild(p),br.addLayer(s),p.setLabels(b));else{n.indexOf(f)===-1?(br.removeLayer(s),h.removeChild(p),h.addChild(y),y.setLabels(["low","high"])):br.removeLayer(f);var o=ar(t,function(t){var n=Number.parseInt(t[i]);return Number.isNaN(n)?0:Math.sqrt(n)}),u=rt(.5).domain(o).range(c);r(e.bind(null,u))}}var o=["V002","V003","V004","V005","V006"],u=["#f7f6ea","#424139","#e9f720","#d88b20","#e8121d"],a=l().domain(o).range(u),c=["#1BD3E0","#1BA4EA","#1E63D3","#6320E0","#9D1AE0"],s=new H.datalens.SpatialLayer(null,wr,{opacity:.8,pixelRatio:window.devicePixelRatio,featureToSpatialId:function(t){return t.properties.CD_GEOCODI},rowToStyle:function(t){return{fillColor:n(t.CD_GEOCODI)}},defaultStyle:function(){return{fillColor:"gray"}}});br.addLayer(s);var f=void 0,h=new lr("Belo Horizonte Data"),d=new sr,g={0:"white",1:"black",2:"yellow",3:"brown",4:"indigenous"},p=new fr(function(t){return u[Math.floor(5*t)]}),y=new fr(nt().range([c[0],c[4]])),v=new gr({all:"Show majority",V002:"white",V003:"black",V004:"yellow",V005:"brown",V006:"indigenous"});mr.addControl("panel",h),h.addChild(d),d.setHTML("Some census data"),h.addChild(v),h.addChild(p);var b=Object.keys(g).map(function(t){return g[t]});p.setLabels(b);var m=new H.ui.InfoBubble({lat:0,lng:0},{});m.addClass("gdp-info-bubble"),m.close(),mr.addBubble(m),v.addEventListener("change",i)}var ln=function(r){function i(e,r){var i,u,a=o(e,function(e,o){if(i)return i(e,o-1);u=e,i=r?n(e,r):t(e)});return a.columns=u,a}function o(t,n){function e(){if(l>=c)return u;if(i)return i=!1,o;var n,e=l;if(34===t.charCodeAt(e)){for(var r=e;r++<c;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return l=r+2,n=t.charCodeAt(r+1),13===n?(i=!0,10===t.charCodeAt(r+2)&&++l):10===n&&(i=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;l<c;){var a=1;if(10===(n=t.charCodeAt(l++)))i=!0;else if(13===n)i=!0,10===t.charCodeAt(l)&&(++l,++a);else if(n!==f)continue;return t.slice(e,l-a)}return t.slice(e)}for(var r,i,o={},u={},a=[],c=t.length,l=0,s=0;(r=e())!==u;){for(var h=[];r!==o&&r!==u;)h.push(r),r=e();n&&null==(h=n(h,s++))||a.push(h)}return a}function u(t,n){return null==n&&(n=e(t)),[n.map(l).join(r)].concat(t.map(function(t){return n.map(function(n){return l(t[n])}).join(r)})).join("\n")}function a(t){return t.map(c).join("\n")}function c(t){return t.map(l).join(r)}function l(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+r+"\n\r]"),f=r.charCodeAt(0);return{parse:i,parseRows:o,format:u,formatRows:a}},sn=(ln(","),ln("\t"),function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}),fn=function(t){return 1===t.length&&(t=r(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}},hn=fn(sn),dn=hn.right,gn=Array.prototype,pn=(gn.slice,gn.map,function t(n,e,r){n=+n,e=+e,r=(o=arguments.length)<2?(e=n,n=0,1):o<3?1:+r;for(var i=-1,o=0|Math.max(0,Math.ceil((e-n)/r)),t=new Array(o);++i<o;)t[i]=n+i*r;return t}),yn=Math.sqrt(50),vn=Math.sqrt(10),bn=Math.sqrt(2),mn=function(t,n,e){var r=i(t,n,e);return pn(Math.ceil(t/r)*r,Math.floor(n/r)*r+r/2,r)};o.prototype=u.prototype={constructor:o,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function t(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function t(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function t(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function t(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var wn=u.prototype;a.prototype=c.prototype={constructor:a,has:wn.has,add:function(t){return t+="",this["$"+t]=t,this},remove:wn.remove,clear:wn.clear,values:wn.keys,size:wn.size,empty:wn.empty,each:wn.each};var Mn=Array.prototype,Cn=Mn.map,Tn=Mn.slice,xn={name:"implicit"},_n=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},kn="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sn=/^#([0-9a-f]{3})$/,Un=/^#([0-9a-f]{6})$/,Hn=new RegExp("^rgb\\("+[kn,kn,kn]+"\\)$"),An=new RegExp("^rgb\\("+[Dn,Dn,Dn]+"\\)$"),On=new RegExp("^rgba\\("+[kn,kn,kn,Nn]+"\\)$"),Ln=new RegExp("^rgba\\("+[Dn,Dn,Dn,Nn]+"\\)$"),jn=new RegExp("^hsl\\("+[Nn,Dn,Dn]+"\\)$"),En=new RegExp("^hsla\\("+[Nn,Dn,Dn,Nn]+"\\)$"),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_n(f,h,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),_n(v,y,s(f,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new v(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new v(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),_n(M,w,s(f,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new v(C(t>=240?t-240:t+120,i,r),C(t,i,r),C(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Yn=Math.PI/180,In=180/Math.PI,Pn=.95047,Rn=1,$n=1.08883,qn=4/29,zn=6/29,Vn=3*zn*zn,Zn=zn*zn*zn;_n(_,x,s(f,{brighter:function(t){return new _(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new _(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=Rn*N(t),n=Pn*N(n),e=$n*N(e),new v(D(3.2404542*n-1.5371385*t-.4985314*e),D(-.969266*n+1.8760108*t+.041556*e),D(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),_n(O,A,s(f,{brighter:function(t){return new O(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new O(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return T(this).rgb()}}));var Xn=-.14861,Bn=1.78277,Wn=-.29227,Gn=-.90649,Jn=1.97294,Kn=Jn*Gn,Qn=Jn*Bn,te=Bn*Wn-Gn*Xn;_n(E,j,s(f,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Yn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new v(255*(n+e*(Xn*r+Bn*i)),255*(n+e*(Wn*r+Gn*i)),255*(n+e*(Jn*r)),this.opacity)}}));var ne=function(t){return function(){return t}},ee=function t(n){function e(t,n){var e=r((t=y(t)).r,(n=y(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=R(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=P(n);return e.gamma=t,e}(1),re=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),u=new Array(r);for(e=0;e<i;++e)o[e]=se(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}},ie=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}},oe=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},ue=function(t,n){var e,r={},i={};null!==t&&"object"===(void 0===t?"undefined":_typeof(t))||(t={}),null!==n&&"object"===(void 0===n?"undefined":_typeof(n))||(n={});for(e in n)e in t?r[e]=se(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ce=new RegExp(ae.source,"g"),le=function(t,n){var e,r,i,o=ae.lastIndex=ce.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=ae.exec(t))&&(r=ce.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:oe(e,r)})),o=ce.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?q(c[0].x):$(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},se=function(t,n){var e,r=void 0===n?"undefined":_typeof(n);return null==n||"boolean"===r?ne(n):("number"===r?oe:"string"===r?(e=h(n))?(n=e,ee):le:n instanceof h?ee:n instanceof Date?ie:Array.isArray(n)?re:isNaN(n)?ue:oe)(t,n)},fe=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}};Math.PI,Math.SQRT2;z(I);var he,de=z(R),ge=function(t){return function(){return t}},pe=function(t){return+t},ye=[0,1],ve=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},be=function(t){return t=ve(Math.abs(t)),t?t[1]:NaN},me=function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}},we=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}},Me=function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},Ce=function(t,n){var e=ve(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(he=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ve(t,Math.max(0,n+o-1))[0]},Te=function(t,n){var e=ve(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},xe={"":Me,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Te(100*t,n)},r:Te,s:Ce,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},_e=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;K.prototype=Q.prototype,Q.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var ke,Ne,De,Se=function(t){return t},Ue=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],He=function(t){function n(t){function n(t){var n,i,l,m=p,w=y;if("c"===g)w=v(t)+w,t="";else{t=+t;var M=t<0;if(t=v(Math.abs(t),d),M&&0==+t&&(M=!1),
m=(M?"("===c?c:"-":"-"===c||"("===c?"":c)+m,w=w+("s"===g?Ue[8+he/3]:"")+(M&&"("===c?")":""),b)for(n=-1,i=t.length;++n<i;)if(48>(l=t.charCodeAt(n))||l>57){w=(46===l?o+t.slice(n+1):t.slice(n))+w,t=t.slice(0,n);break}}h&&!s&&(t=r(t,1/0));var C=m.length+t.length+w.length,T=C<f?new Array(f-C+1).join(e):"";switch(h&&s&&(t=r(T+t,T.length?f-w.length:1/0),T=""),a){case"<":t=m+t+w+T;break;case"=":t=m+T+t+w;break;case"^":t=T.slice(0,C=T.length>>1)+m+t+w+T.slice(C);break;default:t=T+m+t+w}return u(t)}t=K(t);var e=t.fill,a=t.align,c=t.sign,l=t.symbol,s=t.zero,f=t.width,h=t.comma,d=t.precision,g=t.type,p="$"===l?i[0]:"#"===l&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===l?i[1]:/[%p]/.test(g)?"%":"",v=xe[g],b=!g||/[defgprs%]/.test(g);return d=null==d?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}function e(t,e){var r=n((t=K(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(be(e)/3))),o=Math.pow(10,-i),u=Ue[8+i/3];return function(t){return r(o*t)+u}}var r=t.grouping&&t.thousands?me(t.grouping,t.thousands):Se,i=t.currency,o=t.decimal,u=t.numerals?we(t.numerals):Se;return{format:n,formatPrefix:e}};!function(t){ke=He(t),Ne=ke.format,De=ke.formatPrefix,ke}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ae=function(t){return Math.max(0,-be(Math.abs(t)))},Oe=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(be(n)/3)))-be(Math.abs(t)))},Le=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,be(n)-be(t))+1},je=function(t,n,e){var r,o=t[0],u=t[t.length-1],a=i(o,u,null==n?10:n);switch(e=K(null==e?",f":e),e.type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null!=e.precision||isNaN(r=Oe(a,c))||(e.precision=r),De(e,c);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=Le(a,Math.max(Math.abs(o),Math.abs(u))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=Ae(a))||(e.precision=r-2*("%"===e.type))}return Ne(e)},Ee=new Date,Fe=new Date,Ye=it(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Ye.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?it(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Ye:null};var Ie=6e4,Pe=6048e5,Re=(it(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),it(function(t){t.setTime(Math.floor(t/Ie)*Ie)},function(t,n){t.setTime(+t+n*Ie)},function(t,n){return(n-t)/Ie},function(t){return t.getMinutes()}),it(function(t){var n=t.getTimezoneOffset()*Ie%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),it(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ie)/864e5},function(t){return t.getDate()-1})),$e=ot(0),qe=ot(1),ze=(ot(2),ot(3),ot(4),ot(5),ot(6),it(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),it(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));ze.every=function(t){return isFinite(t=Math.floor(t))&&t>0?it(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Ve=(it(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Ie)},function(t,n){return(n-t)/Ie},function(t){return t.getUTCMinutes()}),it(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),it(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1})),Ze=ut(0),Xe=ut(1),Be=(ut(2),ut(3),ut(4),ut(5),ut(6),it(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),it(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Be.every=function(t){return isFinite(t=Math.floor(t))&&t>0?it(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var We,Ge,Je,Ke,Qe,tr={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,er=/^%/,rr=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;!function(t){We=st(t),Ge=We.format,Je=We.parse,Ke=We.utcFormat,Qe=We.utcParse,We}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ir=(Date.prototype.toISOString||Ke("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||Qe("%Y-%m-%dT%H:%M:%S.%LZ"),function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})});ir("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ir("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ir("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ir("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),de(j(300,.5,0),j(-240,.5,1));var or=(de(j(-100,.75,.35),j(80,1.5,.8)),de(j(260,.75,.35),j(80,1.5,.8)),j(),function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}),ur=function(t){return 1===t.length&&(t=an(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}(or),ar=(ur.right,function(t,n){var e,r,i,o=-1,u=t.length;if(null==n){for(;++o<u;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(;++o<u;)null!=(r=t[o])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++o<u;)if(null!=(r=n(t[o],o,t))&&r>=r){e=i=r;break}for(;++o<u;)null!=(r=n(t[o],o,t))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]}),cr=Array.prototype,lr=(cr.slice,cr.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),function(t){function n(t){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.header_=t,e.setAlignment("top-left"),e}return _inherits(n,t),_createClass(n,[{key:"renderInternal",value:function(t,e){this.addClass("dl-panel"),t.innerHTML='\n            <div class="dl-panel__header">'+this.header_+"</div>\n        ",_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"renderInternal",this).call(this,t,e)}},{key:"addChild",value:function(t){return t.setParentEventTarget(this),_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addChild",this).call(this,t)}}]),n}(H.ui.Control)),sr=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"renderInternal",value:function(){this.addClass("dl-label")}},{key:"setHTML",value:function(t){return this.getElement().innerHTML=t,this}}]),n}(H.ui.Control),fr=function(t){function n(t){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.colorScale=t,e}return _inherits(n,t),_createClass(n,[{key:"renderInternal",value:function(t){this.addClass("dl-color-legend"),this.labels=document.createElement("div"),this.labels.className="dl-color-legend__labels";var n=document.createElement("canvas");n.width=200,n.height=20;for(var e=n.getContext("2d"),r=0;r<=1;r+=1/n.width){var i=r*n.width;e.fillStyle=this.colorScale(r),e.fillRect(i,1,1,n.height)}t.appendChild(n),t.appendChild(this.labels)}},{key:"setLabels",value:function(t){this.labels.innerHTML=t.map(function(t){return"<div>"+t+"</div>"}).join("")}}]),n}(H.ui.Control),hr=0,dr=function(){return"dl-id"+hr++},gr=function(t){function n(t){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.values=t,e}return _inherits(n,t),_createClass(n,[{key:"renderInternal",value:function(t){var n=this,e=dr();this.addClass("dl-select"),t.innerHTML='<div class="dl-select__title">Select one</div><div class="dl-select__options">'+Object.keys(this.values).map(function(t){var r=n.values[t],i="dl-select-"+t;return'<div class="dl-select__option">\n                <input\n                    class="dl-select__input"\n                    type="radio"\n                    name="'+e+'"\n                    id="'+i+'"\n                    value="'+t+'"\n                />\n                <label\n                    class="dl-select__label"\n                    for="'+i+'"\n                >'+r+"</label>\n            </div>"}).join("")+"</div>",t.addEventListener("change",function(){n.dispatchEvent("change")})}},{key:"getValue",value:function(){var t=this.getElement().querySelectorAll("input[type=radio]:checked");return t[0]&&t[0].value}}]),n}(H.ui.Control),pr=new H.service.Platform({app_id:"DemoAppId01082013GAL",app_code:"AJKnXv84fjrb0KIHawS0Tg",useCIT:!0,useHTTPS:!0}),yr=devicePixelRatio>1?2:1,vr=pr.createDefaultLayers({tileSize:256*yr}),br=new H.Map(document.getElementsByClassName("dl-map")[0],vr.normal.xbase,{pixelRatio:yr,center:new H.geo.Point(-19.91946,-43.94274),zoom:13});window.addEventListener("resize",function(){br.getViewPort().resize()}),new H.mapevents.Behavior(new H.mapevents.MapEvents(br));var mr=H.ui.UI.createDefault(br,vr),wr=new H.datalens.RawDataProvider({dataUrl:"./fixtures/bh_setores_censitarios.json"}),Mr=new XMLHttpRequest;Mr.addEventListener("load",function(){this.readyState===XMLHttpRequest.DONE&&cn(ln(";").parse(this.responseText))}),Mr.open("GET","./fixtures/Pessoa03_MG.csv"),Mr.send(null)}();
